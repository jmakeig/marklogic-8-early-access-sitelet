<!DOCTYPE html>
<html>
  <head>
    <title>Node.js Client API</title>
    <style type="text/css">
      body {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 14pt;
        line-height: 1;
      }
      p, li, pre {
        line-height: 1.44;
      }
      code, pre {
        font-family: Inconsolata, Consolas, Monaco, monospace;
        font-size: 1.1rem;
      }
      pre {
        margin: 0.5rem 1rem;
      }
    </style>
  </head>
  <body>
    <h2>Node.js Client API</h2>
    <p>The Node.js Client API allows developers to quickly and easily access a MarkLogic cluster from their Node applications. The API provides an asynchronous JavaScript interface for key MarkLogic capabilities, such as search, document management, batched loading, transactions, aggregates, and alerting. Combined with MarkLogic's ability to index and manage JSON documents natively, the Node Client API is an ideal tool for full-stack JavaScript development.<p/>
    <p>The Node Client API encapsulates best practices on both the Node and MarkLogic ends, for example, enforcing entirely asynchronous I/O and providing conveniences for building complex queries. Its APIs are designed to be familiar and comfortable to Node developers. For performance-critical or resource-intensive operations, the Node Client API provides an extension mechanism that executes JavaScript on Server where it runs close to the data. </p>
    <p>The Node client is  developed in the open <a href="https://github.com/marklogic/node-client-api">on GitHub</a> and is licensed under the open-source <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0 license</a>. Users are encouraged to provide feedback through issue reports or pull requests. </p>
    <h3>Getting Started</h3>
      <ol>
        <li>Make sure you have a recent version of <a href="http://nodejs.org/download/">Node.js</a> (at least v0.10.22), <a href="https://www.npmjs.org">npm</a> (at least 1.4), and <a href="http://git-scm.com/downloads">git</a> (at least 1.8) installed. To verify on Linux or OS X, use <code>node --version</code>, <code>npm --version</code> and <code>git --version</code>. If your system can’t find any or all of those tools, make sure your <code>$PATH</code> variable includes points to each of those binaries.</li>
        <li>To start with new Node.js project to evaluate the MarkLogic client API, first create a new directory for your project, for example <code>myproject</code>. If you’re adding the MarkLogic Client API to an existing project, proceed using that project’s directory.
          <p><em>Normally for a new project you’d create <code>package.json</code> in your <code>myproject</code> directory, declare all of your dependencies there and have npm download the entire graph. However, Early Access builds of the MarkLogic Client API aren’t in public npm repository (yet), so you’ll have to manually install a local copy from <a href="https://github.com/marklogic/node-client-api">GitHub</a>.</em></p>
        </li>
        <li>In your project folder, if you don't already have one, create a <code>node_modules</code> folder. This is where all of the local project dependencies will be downloaded. </li>
        <li>Within the <code>node_modules</code> directory, clone the project from Github as a directory called <code>marklogic</code>.
          <pre>git clone git@github.com:marklogic/node-client-api.git marklogic</pre>
        </li>
        <li>From within the newly created <code>marklogic</code> directory run <pre>npm install</pre> to download all of the APIs dependencies from the public npm repository. </li>
        <li>Now, confirm that everything worked. From your top-level project directory, <code>myproject</code>, create a file called <code>verify.js</code> with the contents <pre>var marklogic = require("marklogic")
console.dir(marklogic)</pre> and run <pre>node verify.js</pre> If everything worked it will output something like <pre>{ createDatabaseClient: [Function: MarkLogicClientFactory],
  queryBuilder: 
   { anchor: [Function: anchor],
     and: [Function: and],
     andNot: [Function: andNot],
     attribute: [Function: attribute],
     bind: [Function: bind],
     …</pre>
     </li>
      </ol>
    <p>T</p>
    <h3>Where to Focus</h3>
      <ul>
        <li>Query: Support for query by example, a Google-like string grammar, and structured query builder</li>
        <li>Document management: Read, write, remove, check documents. Support for Node Streams in and out.</li>
        <li>Partial updates: Patch XML and JSON documents to avoid moving entire documents between the server and client</li>
        <li>Transactions: Multi-statement ACID transactions with explicit commit and rollback.</li>
        <li>Optimistic locking: Notification of conflicting writes</li>
        <li>Configuration management: Manage inbound/outbound transforms, properties, and extension libraries</li>
      </ul>
  </body>
</html>
